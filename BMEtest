import sensor_interface
import time
import board
import adafruit_bme680

i2c = board.I2C()   # uses board.SCL and board.SDA
bme680 = adafruit_bme680.Adafruit_BME680_I2C(i2c, debug=False)
# change this to match the location's pressure (hPa) at sea level
bme680.sea_level_pressure = 1013.25

class BME680_interface(sensor_interface.sensor_interface):
    def __init__(self, name, BME680_object, csv_writer=None, sample_rate=3):
        super().__init__(name, BME680_object, csv_writer=csv_writer, sample_rate=sample_rate)

def collect_data(self):
		
        while not self._stop_thread:
            temperature = self._sensor_obj.bme680.temperature()
            print("\nTemperature: %0.1f C" % bme680.temperature)
            
            gas = self.sensor_obj.gas()
            print("Gas: %d ohm" % bme680.gas)
            
            humidity = self.sensor_obj.bme680.relative_humidity()
            print("Humidity: %0.1f %%" % bme680.relative_humidity)
            
            pressure = self.sensor_obj.bme.pressure()
            print("Pressure: %0.3f hPa" % bme680.pressure)

            altitude = self.sensor_obj.bme.altitude()
            print("Altitude = %0.2f meters" % bme680.altitude)
            
            self.store_data_as_csv(temperature, gas, humidity, pressure, altitude)
